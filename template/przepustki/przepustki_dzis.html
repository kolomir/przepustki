{% extends 'przepustki/base.html' %}
{% block content %}

    <div class="container-fluid">
        <div class="card col-md-12 my-3 mx-auto text-white green darken-1">
            <div class="card-body">
                <h2>Nadchodzące przepustki</h2>
            </div>
        </div>
        <div class="card col-md-12 my-3 mx-auto">
            <table id="dtWpisyPrzyszle" class="table table-striped table-hover table-sm table-borderless" cellspacing="0" width="100%">
                <thead class="black white-text">
                    <tr>
                        <th class="th-sm" width="5%">#</th>
                        <th class="th-sm" width="20%">Wystawiona dla... </th>
                        <th class="th-sm" width="15%">Data od / Godzina od</th>
                        <th class="th-sm" width="15%">Data do / Godzina do</th>
                        <th class="th-sm" width="10%">Rodzaj</th>
                        <th class="th-sm" width="10%">Dodane przez</th>
                        <th class="th-sm" width="5%">Data dodania</th>
                        {% if user.is_authenticated %}
                        <th class="th-sm" width="15%">#</th>
                        {% endif %}
                    </tr>
                </thead>
                <tbody>
                    {% for wpis in przepustki_przyszle %}
                    <tr>
                        <th scope="row">{{ wpis.id }}</th>
                        <td>( {{ wpis.pracownik }} ) {{ wpis.pracownik.nazwisko }} {{ wpis.pracownik.imie }}</td>
                        <td>{{ wpis.data_wyjscia }} {{ wpis.godzina_wyjscia }}</td>
                        <td>{{ wpis.data_przyjscia }} {{ wpis.godzina_przyjscia }}</td>
                        <td>{{ wpis.rodzaj_wpisu }}</td>
                        <td>{{ wpis.autor_wpisu }}</td>
                        <td>{{ wpis.data_dodania }}</td>
                        {% if user.is_authenticated %}
                        <td>
                            <a href="{% url 'wystaw_przepustke_edycja' wpis.id %}" class="btn btn-outline-primary btn-rounded waves-effect btn-sm mr-2">Edytuj</a>
                            {% if wpis.cofnieta == 0 %}
                            <a href="{% url 'usun_przepustke' wpis.id %}" class="btn btn-outline-danger btn-rounded waves-effect btn-sm">Usuń</a>
                            {% else %}
                            <a href="{% url 'przywroc_przepustke' wpis.id %}" class="btn btn-outline-success btn-rounded waves-effect btn-sm">Przywróć</a>
                        {% endif %}
                        </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
                <tfoot class="black white-text">
                    <tr>
                        <th class="th-sm">#</th>
                        <th class="th-sm">Wystawiona dla... </th>
                        <th class="th-sm">Data od / Godzina od</th>
                        <th class="th-sm">Data do / Godzina do</th>
                        <th class="th-sm">Rodzaj</th>
                        <th class="th-sm">Dodane przez</th>
                        <th class="th-sm">Data dodania</th>
                        {% if user.is_authenticated %}
                        <th class="th-sm">#</th>
                        {% endif %}
                    </tr>
                </tfoot>
            </table>
        </div>
        <br />
        <div class="card col-md-12 my-3 mx-auto text-white green darken-1">
            <div class="card-body">
                <h2>Przepustki na dziś</h2>
            </div>
        </div>
        <div class="card col-md-12 my-3 mx-auto">
            <table id="dtWpisyDzis" class="table table-striped table-hover table-sm table-borderless" cellspacing="0" width="100%">
                <thead class="black white-text">
                    <tr>
                        <th class="th-sm" width="5%">#</th>
                        <th class="th-sm" width="20%">Wystawiona dla... </th>
                        <th class="th-sm" width="15%">Data od / Godzina od</th>
                        <th class="th-sm" width="15%">Data do / Godzina do</th>
                        <th class="th-sm" width="10%">Rodzaj</th>
                        <th class="th-sm" width="10%">Dodane przez</th>
                        <th class="th-sm" width="5%">Data dodania</th>
                        {% if user.is_authenticated %}
                        <th class="th-sm" width="15%">#</th>
                        {% endif %}
                    </tr>
                </thead>
                <tbody>
                    {% for wpis in przepustki_dzis %}
                    <tr>
                        <th scope="row">{{ wpis.id }}</th>
                        <td>( {{ wpis.pracownik }} ) {{ wpis.pracownik.nazwisko }} {{ wpis.pracownik.imie }}</td>
                        <td>{{ wpis.data_wyjscia }} {{ wpis.godzina_wyjscia }}</td>
                        <td>{{ wpis.data_przyjscia }} {{ wpis.godzina_przyjscia }}</td>
                        <td>{{ wpis.rodzaj_wpisu }}</td>
                        <td>{{ wpis.autor_wpisu }}</td>
                        <td>{{ wpis.data_dodania }}</td>
                        {% if user.is_authenticated %}
                        <td>
                            <a href="{% url 'wystaw_przepustke_edycja' wpis.id %}" class="btn btn-outline-primary btn-rounded waves-effect btn-sm mr-2">Edytuj</a>
                            {% if wpis.cofnieta == 0 %}
                            <a href="{% url 'usun_przepustke' wpis.id %}" class="btn btn-outline-danger btn-rounded waves-effect btn-sm">Usuń</a>
                            {% else %}
                            <a href="{% url 'przywroc_przepustke' wpis.id %}" class="btn btn-outline-success btn-rounded waves-effect btn-sm">Przywróć</a>
                        {% endif %}
                        </td>
                        {% endif %}
                    </tr>
                    {% endfor %}
                </tbody>
                <tfoot class="black white-text">
                    <tr>
                        <th class="th-sm">#</th>
                        <th class="th-sm">Wystawiona dla... </th>
                        <th class="th-sm">Data od / Godzina od</th>
                        <th class="th-sm">Data do / Godzina do</th>
                        <th class="th-sm">Rodzaj</th>
                        <th class="th-sm">Dodane przez</th>
                        <th class="th-sm">Data dodania</th>
                        {% if user.is_authenticated %}
                        <th class="th-sm">#</th>
                        {% endif %}
                    </tr>
                </tfoot>
            </table>
        </div>
        <br />
        <div class="card col-md-12 my-3 mx-auto text-white green darken-1">
            <div class="card-body">
                <h2>Przepustki z wczoraj</h2>
            </div>
        </div>
        <div class="card col-md-12 my-3 mx-auto">
            <table id="dtWpisyWczoraj" class="table table-striped table-hover table-sm table-borderless" cellspacing="0" width="100%">
                <thead class="black white-text">
                    <tr>
                        <th class="th-sm" width="5%">#</th>
                        <th class="th-sm" width="20%">Wystawiona dla... </th>
                        <th class="th-sm" width="15%">Data od / Godzina od</th>
                        <th class="th-sm" width="15%">Data do / Godzina do</th>
                        <th class="th-sm" width="10%">Rodzaj</th>
                        <th class="th-sm" width="10%">Dodane przez</th>
                        <th class="th-sm" width="5%">Data dodania</th>
                        {% if user.is_authenticated %}
                        <th class="th-sm" width="15%">#</th>
                        {% endif %}
                    </tr>
                </thead>
                <tbody>
                    {% for wpis in przepustki_wczoraj %}
                    <tr>
                        <th scope="row">{{ wpis.id }}</th>
                        <td>( {{ wpis.pracownik }} ) {{ wpis.pracownik.nazwisko }} {{ wpis.pracownik.imie }}</td>
                        <td>{{ wpis.data_wyjscia }} {{ wpis.godzina_wyjscia }}</td>
                        <td>{{ wpis.data_przyjscia }} {{ wpis.godzina_przyjscia }}</td>
                        <td>{{ wpis.rodzaj_wpisu }}</td>
                        <td>{{ wpis.autor_wpisu }}</td>
                        <td>{{ wpis.data_dodania }}</td>
                        <td>
                            #
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
                <tfoot class="black white-text">
                    <tr>
                        <th class="th-sm">#</th>
                        <th class="th-sm">Wystawiona dla... </th>
                        <th class="th-sm">Data od / Godzina od</th>
                        <th class="th-sm">Data do / Godzina do</th>
                        <th class="th-sm">Rodzaj</th>
                        <th class="th-sm">Dodane przez</th>
                        <th class="th-sm">Data dodania</th>
                        {% if user.is_authenticated %}
                        <th class="th-sm">#</th>
                        {% endif %}
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

{% endblock content %}